<Cube name="junaeb_vulnerability">

  <Annotations>
    <Annotation name="source_name">Índice de Vulnerabilidad Escolar - JUNAEB</Annotation>
    <Annotation name="source_link">https://www.junaeb.cl/ive/</Annotation>
    <Annotation name="topic">education</Annotation>
    <Annotation name="available_dimensions"></Annotation>
    <Annotation name="available_measures"></Annotation>
  </Annotations>

  <Table name="fact_vulnerability" schema="childhood" />

  <Dimension name="Date">
    <Hierarchy hasAll="true">
      <Level column="year" nameColumn="year" name="Year" uniqueMembers="true" />
    </Hierarchy>
  </Dimension>

  <DimensionUsage foreignKey="administration_id" name="Administration" source="Administration" />
  <DimensionUsage foreignKey="comuna_id" name="Geography" source="Geography" />
  <DimensionUsage foreignKey="rbd" name="Institution" source="Institution New" />
  <DimensionUsage foreignKey="zone_id" name="Zone" source="Zone" />

  <Dimension foreignKey="priority_id" name="Priority">
    <Annotations>
      <Annotation name="es_element_caption">Actividad</Annotation>
    </Annotations>
    <Hierarchy hasAll="true">
      <InlineTable alias="priority">
        <ColumnDefs>
          <ColumnDef name="id" type="Numeric" />
          <ColumnDef name="description" type="String" />
          <ColumnDef name="es_description" type="String" />
        </ColumnDefs>
        <Rows>
          <Row>
            <Value column="id">0</Value>
            <Value column="description">No Information</Value>
            <Value column="es_description">Sin Información</Value>
          </Row>
        <Row>
            <Value column="id">1</Value>
            <Value column="description">First Priority</Value>
            <Value column="es_description">Primera Prioridad</Value>
          </Row>
        <Row>
            <Value column="id">2</Value>
            <Value column="description">Second Priority</Value>
            <Value column="es_description">Segunda Prioridad</Value>
          </Row>
        <Row>
            <Value column="id">3</Value>
            <Value column="description">Third Priority</Value>
            <Value column="es_description">Tercera Prioridad</Value>
          </Row>
        <Row>
            <Value column="id">4</Value>
            <Value column="description">Not Vulnerable</Value>
            <Value column="es_description">No Vulnerable</Value>
          </Row>
        </Rows>
      </InlineTable>

      <Level column="id" name="Priority" nameColumn="description" uniqueMembers="true">
        <Annotations>
          <Annotation name="es_caption">Description ES</Annotation>
          <Annotation name="es_element_caption">Actividad</Annotation>
        </Annotations>
        <Property column="es_description" name="Description ES"/>
      </Level>
    </Hierarchy>
  </Dimension>

  <Measure aggregator="sum" column="total" name="Count" visible="true" />

</Cube>